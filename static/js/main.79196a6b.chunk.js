(this["webpackJsonpreason-reward"]=this["webpackJsonpreason-reward"]||[]).push([[0],{186:function(e,n,t){},331:function(e,n,t){},333:function(e,n,t){"use strict";t.r(n);var c=t(2),r=t(0),a=t.n(r),s=t(46),i=t.n(s),o=(t(186),t(75)),l=t(18),u=t(23),j=t(24);function b(){var e=Object(u.a)(["\n  width: 100%;\n  height: 50px;\n  display: flex;\n  align-items: center;\n  justify-content: start;\n  background: rgba(0, 50, 50, 0.2);\n  color: rgba(0, 0, 0, 0.7);\n\n  & > * {\n    margin: 0 1rem;\n  }\n\n  & > a {\n    text-decoration: none;\n    color: rgba(0, 0, 0, 0.6);\n    font-weight: 600;\n\n    &.active {\n      text-decoration: underline;\n    }\n\n    &:hover {\n      color: rgba(0, 0, 0, 0.9);\n    }\n  }\n"]);return b=function(){return e},e}var d=j.a.header(b()),h=t(89),x=t(70),f=t(27),p=t.n(f),O=t(64),g=t(54),v=t(15);function m(){var e=Object(u.a)(["\n  display: flex;\n  flex-direction: column;\n"]);return m=function(){return e},e}function w(){var e=Object(u.a)(["\n  border-radius: 10px;\n  border: 1px solid black;\n  padding: 0.5rem;\n  width: calc(2.5 * 100px);\n  height: calc(3.5 * 100px);\n"]);return w=function(){return e},e}function y(){var e=Object(u.a)(["\n  border-radius: 10px;\n  max-width: calc(2.5 * 100px);\n  max-height: calc(3.5 * 100px);\n  width: auto;\n  height: auto;\n"]);return y=function(){return e},e}var k=j.a.img(y()),C=j.a.div(w()),S=j.a.div(m()),N=function(e){var n=e.image_uris,t=e.name,a=e.oracle_text,s=e.card_faces,i=Object(r.useState)(!1),o=Object(v.a)(i,2),l=o[0],u=o[1],j=null;return j=s?s[l?1:0].image_uris.normal:n.normal,Object(c.jsxs)(S,{children:[j?Object(c.jsx)(k,{className:"Card",src:j}):Object(c.jsxs)(C,{children:[Object(c.jsx)("h4",{children:t}),Object(c.jsx)("p",{children:a})]}),s?l?Object(c.jsx)("button",{type:"button",onClick:function(){return u(!1)},children:"show front"}):Object(c.jsx)("button",{type:"button",onClick:function(){return u(!0)},children:"show back"}):null]})};function _(){var e=Object(u.a)(["\n  border: 1px solid rgba(0, 0, 0, 0.2);\n  border-bottom: 0px;\n  padding: 1rem;\n  display: flex;\n  flex-direction: row;\n\n  & > ul {\n    list-style-type: none;\n  }\n"]);return _=function(){return e},e}var A=j.a.div(_()),I=function(e){var n=e.cardData,t=e.evaluation,r=e.onChange,a=function(e){r(n.id,e.currentTarget.value)};return Object(c.jsxs)(A,{children:[Object(c.jsx)(N,Object(x.a)({},n)),Object(c.jsxs)("ul",{children:[Object(c.jsxs)("li",{children:[Object(c.jsx)("input",{type:"radio",name:"eval-".concat(n.id),value:"reason",checked:"reason"===t,id:"reason-".concat(n.id),onChange:a}),Object(c.jsx)("label",{for:"reason-".concat(n.id),children:"Reason"})]}),Object(c.jsxs)("li",{children:[Object(c.jsx)("input",{type:"radio",name:"eval-".concat(n.id),value:"reward",checked:"reward"===t,id:"reward-".concat(n.id),onChange:a}),Object(c.jsx)("label",{for:"reward-".concat(n.id),children:"Reward"})]}),Object(c.jsxs)("li",{children:[Object(c.jsx)("input",{type:"radio",name:"eval-".concat(n.id),value:"rp",checked:"rp"===t,id:"rp-".concat(n.id),onChange:a}),Object(c.jsx)("label",{for:"rp-".concat(n.id),children:"Role-player"})]}),Object(c.jsxs)("li",{children:[Object(c.jsx)("input",{type:"radio",name:"eval-".concat(n.id),value:"replaceable",checked:"replaceable"===t,id:"replaceable-".concat(n.id),onChange:a}),Object(c.jsx)("label",{for:"replaceable-".concat(n.id),children:"Replaceable"})]})]})]})};function T(){var e=Object(u.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n"]);return T=function(){return e},e}var D=j.a.div(T()),E=t(174),L=function(e){e.set;var n=e.onChange,t=Object(r.useState)([]),a=Object(v.a)(t,2),s=a[0],i=a[1],o=Object(r.useState)(!1),l=Object(v.a)(o,2),u=l[0],j=l[1];return Object(r.useEffect)((function(){Object(g.a)(p.a.mark((function e(){var n,t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,j(!0),e.next=4,fetch("https://api.scryfall.com/sets");case 4:return n=e.sent,e.next=7,n.json();case 7:t=e.sent,i(t.data),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.error(e.t0);case 14:return e.prev=14,j(!1),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[0,11,14,17]])})))()}),[]),Object(c.jsx)(E.a,{isLoading:u,isSearchable:!0,isClearable:!0,options:s.map((function(e){return{value:e.code,label:"".concat(e.name," (").concat(e.code.toUpperCase(),")")}})),onChange:function(e){return n(e?e.value:null)}})},R=function(){var e=Object(r.useState)(""),n=Object(v.a)(e,2),t=n[0],a=n[1],s=Object(r.useState)([]),i=Object(v.a)(s,2),o=i[0],l=i[1],u=Object(r.useState)({}),j=Object(v.a)(u,2),b=j[0],d=j[1];Object(r.useEffect)((function(){var e=localStorage.getItem("evaluations");e&&(console.log("Loading evaluations from local storage..."),d(JSON.parse(e)))}),[]),Object(r.useEffect)((function(){console.log(b),localStorage.setItem("evaluations",JSON.stringify(b))}),[b]);var f=function(){var e=Object(g.a)(p.a.mark((function e(n){var t,c,r,s,i;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.currentTarget.value){e.next=5;break}return l([]),a(""),e.abrupt("return");case 5:c=[],r="https://api.scryfall.com/cards/search?q=set:".concat(t);case 7:return e.next=10,fetch(r);case 10:return s=e.sent,e.next=13,s.json();case 13:if(i=e.sent,console.log(i),i.data&&(c=[].concat(Object(O.a)(c),Object(O.a)(i.data.filter((function(e){return"card"===e.object}))))),console.log({np:i.next_page}),!i.has_more){e.next=21;break}r=i.next_page,e.next=22;break;case 21:return e.abrupt("break",24);case 22:e.next=7;break;case 24:l(c),a(t);case 26:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),m=function(e,n){d(Object(x.a)(Object(x.a)({},b),{},Object(h.a)({},e,n)))};return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(L,{set:t,onChange:f}),Object(c.jsx)(D,{children:o.sort((function(e,n){return parseInt(e.collector_number)-parseInt(n.collector_number)})).map((function(e){return Object(c.jsx)(I,{cardData:e,evaluation:b[e.id]||null,onChange:m})}))})]})},F=t(338),P=t(172),J=t(173),M=t(94),B=t(76),K=t(176),U=function(e,n){return Math.round((e+Number.EPSILON)*(10^n))/(10^n)},q=function(e){var n,t=e.values,r=void 0===t?[]:t,a=e.maxDecimalPlaces,s=void 0===a?2:a;return Object(c.jsx)("span",{children:U((n=r,n.reduce((function(e,n){return e+n}),0)/n.length),s)})};function H(){var e=Object(u.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n\n  & > label {\n    margin-right: 1rem;\n\n    &:last-child {\n      margin-right: 0;\n    }\n  }\n"]);return H=function(){return e},e}var z=j.a.fieldset(H()),G=function(e){var n=e.onChange,t=Object(r.useState)([]),a=Object(v.a)(t,2),s=a[0],i=a[1],o=function(e,t){var c=e.currentTarget.checked,r=[];t?(r=s.filter((function(e){return e!==t})),c&&r.push(t)):r=c?["common","uncommon","rare","mythic"]:[],i(r),n(r)};return Object(c.jsxs)(z,{children:[Object(c.jsx)("legend",{children:"Rarity"}),Object(c.jsxs)("label",{children:[Object(c.jsx)("input",{type:"checkbox",checked:4===s.length,onChange:function(e){return o(e,"")}}),Object(c.jsx)("span",{children:"Select all..."})]}),Object(c.jsxs)("label",{children:[Object(c.jsx)("input",{type:"checkbox",checked:s.includes("common"),onChange:function(e){return o(e,"common")}}),Object(c.jsx)("span",{children:"C"})]}),Object(c.jsxs)("label",{children:[Object(c.jsx)("input",{type:"checkbox",checked:s.includes("uncommon"),onChange:function(e){return o(e,"uncommon")}}),Object(c.jsx)("span",{children:"U"})]}),Object(c.jsxs)("label",{children:[Object(c.jsx)("input",{type:"checkbox",checked:s.includes("rare"),onChange:function(e){return o(e,"rare")}}),Object(c.jsx)("span",{children:"R"})]}),Object(c.jsxs)("label",{children:[Object(c.jsx)("input",{type:"checkbox",checked:s.includes("mythic"),onChange:function(e){return o(e,"mythic")}}),Object(c.jsx)("span",{children:"M"})]})]})};function Q(){var e=Object(u.a)(['\n  display: grid;\n  grid-template: "filters content" / 300px auto;\n']);return Q=function(){return e},e}var V=j.a.div(Q()),W=function(){var e=Object(r.useState)([]),n=Object(v.a)(e,2),t=n[0],a=n[1],s=Object(r.useState)(!1),i=Object(v.a)(s,2),o=i[0],l=i[1],u=Object(r.useState)([]),j=Object(v.a)(u,2),b=j[0],d=j[1],h=t.filter((function(e){return b&&b.length>0?b.includes(e.rarity):e})),x=function(){var e=Object(g.a)(p.a.mark((function e(n){var t,c,r,s;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=3;break}return a([]),e.abrupt("return");case 3:t=[],c="https://api.scryfall.com/cards/search?q=set:".concat(n),l(!0);case 6:return e.next=9,fetch(c);case 9:return r=e.sent,e.next=12,r.json();case 12:if((s=e.sent).data&&(t=[].concat(Object(O.a)(t),Object(O.a)(s.data.filter((function(e){return"card"===e.object}))))),!s.has_more){e.next=18;break}c=s.next_page,e.next=19;break;case 18:return e.abrupt("break",21);case 19:e.next=6;break;case 21:a(t),l(!1);case 23:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return Object(c.jsxs)(V,{children:[Object(c.jsxs)("div",{children:[Object(c.jsx)(L,{onChange:x}),Object(c.jsx)(G,{onChange:function(e){return d(e)}})]}),o?"Loading...":h.length>0?Object(c.jsxs)("div",{children:[Object(c.jsxs)("ul",{children:[Object(c.jsxs)("li",{children:["Average power:"," ",Object(c.jsx)(q,{values:h.filter((function(e){return!isNaN(e.power)})).map((function(e){return+e.power}))})]}),Object(c.jsxs)("li",{children:["Average toughness:"," ",Object(c.jsx)(q,{values:h.filter((function(e){return!isNaN(e.toughness)})).map((function(e){return+e.toughness}))})]}),Object(c.jsxs)("li",{children:["Average CMC:"," ",Object(c.jsx)(q,{values:h.filter((function(e){return!isNaN(e.cmc)})).map((function(e){return+e.cmc}))})]})]}),Object(c.jsx)("div",{style:{display:"flex",justifyContent:"space-between",textAlign:"center"},children:Object(c.jsxs)("div",{children:[Object(c.jsx)("h3",{children:"Power/Toughness breakdown"}),Object(c.jsxs)(F.a,{data:Object.values(h.reduce((function(e,n){var t=[];n.card_faces?t.push(n.card_faces):t.push(n);for(var c=0,r=t;c<r.length;c++){var a=r[c];a.power&&(e[a.power]||(e[a.power]={value:a.power,power:0,toughness:0}),e[a.power].power++),a.toughness&&(e[a.toughness]||(e[a.toughness]={value:a.toughness,power:0,toughness:0}),e[a.toughness].toughness++)}return e}),{})),width:500,height:300,margin:{top:5,right:30,left:20,bottom:5},children:[Object(c.jsx)(P.a,{dataKey:"value"}),Object(c.jsx)(J.a,{}),Object(c.jsx)(M.a,{}),Object(c.jsx)(B.a,{}),Object(c.jsx)(K.a,{dataKey:"power",fill:"#DA4167",label:{fill:"white"}}),Object(c.jsx)(K.a,{dataKey:"toughness",fill:"#083D77",label:{fill:"white"}})]})]})})]}):null]})},X=(t(331),function(){return Object(c.jsxs)("div",{className:"App",children:[Object(c.jsxs)(d,{children:[Object(c.jsx)(o.b,{exact:!0,to:"/",children:"Home"}),Object(c.jsx)(o.b,{to:"/stats",children:"Statistics"})]}),Object(c.jsx)("div",{style:{padding:"1rem"},children:Object(c.jsxs)(l.c,{children:[Object(c.jsx)(l.a,{exact:!0,path:"/",children:"Home"}),Object(c.jsx)(l.a,{path:"/evaluations",children:Object(c.jsx)(R,{})}),Object(c.jsx)(l.a,{path:"/stats",children:Object(c.jsx)(W,{})}),Object(c.jsx)(l.a,{path:"/404",children:"404"})]})})]})}),Y=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,340)).then((function(n){var t=n.getCLS,c=n.getFID,r=n.getFCP,a=n.getLCP,s=n.getTTFB;t(e),c(e),r(e),a(e),s(e)}))},Z=document.getElementsByTagName("base")[0].getAttribute("href");console.log({baseUrl:Z}),i.a.render(Object(c.jsx)(o.a,{basename:"/",children:Object(c.jsx)(a.a.StrictMode,{children:Object(c.jsx)(X,{})})}),document.getElementById("root")),Y()}},[[333,1,2]]]);
//# sourceMappingURL=main.79196a6b.chunk.js.map